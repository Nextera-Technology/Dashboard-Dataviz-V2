.dashboard-builder {
  height: 100vh;
  overflow: hidden; // Prevent body scrolling
}

.builder-content {
  display: flex;
  flex-direction: column;
  height: 100%;
}

.custom-tab-header {
  flex-shrink: 0; // Prevent tab header from shrinking
}

.tab-content {
  flex: 1;
  overflow: auto;
}

.section-tabs {
  height: 100%;
}

.section-tabs ::ng-deep .mat-mdc-tab-body-wrapper {
  height: calc(100% - 48px);
  overflow: auto;
  display: block;
}

// Widget grid container
.widget-grid {
  min-height: 100%;
  padding-bottom: 2rem; // Add padding at bottom to ensure last widgets are visible
}

// CDK Drag & Drop styles
.widget-card.cdk-drag-preview {
  box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
  border-color: #2196f3;
  border-style: solid;
  border-width: 2px;
  border-radius: 8px;
  opacity: 0.9;
  background: white;
  display: flex;
  flex-direction: column;
}

.widget-card.cdk-drag-placeholder {
  opacity: 0.3;
  border: 2px dashed #ccc;
  background: #f0f0f0;
  border-radius: 8px;
}

.widget-card.cdk-drag-animating {
  transition: transform 250ms cubic-bezier(0, 0, 0.2, 1);
}

// Custom styles for simplified drag preview (new)
.simplified-widget-preview {
  padding: 1rem;
  border-radius: 8px;
  box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2); /* Stronger shadow for drag preview */
  background-color: #3f51b5; /* Primary color */
  color: white;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1rem;
  font-weight: 500;
  min-width: 150px; /* Example min width */
  min-height: 80px; /* Example min height */
  transform: rotate(2deg); /* Slight rotation for a "lifting" effect */
  cursor: grabbing; /* Indicate grabbing */
}

// Styling for the placeholder (new, ensure it matches actual card size)
.widget-placeholder {
  min-height: 250px; /* Adjust to match the typical height of your widget card */
  min-width: 350px; /* Adjust to match the typical width of your widget card */
  // You might need to dynamically set width/height based on columnSize/rowSize if your cards vary greatly
  // Or set to a representative average size.
}

// Custom tab styling
.custom-tab-item {
  cursor: pointer;
  border-bottom: 2px solid transparent;
  transition: all 0.2s ease;
  
  &.active-tab {
    border-bottom-color: #3f51b5;
    color: #3f51b5;
    font-weight: 500;
  }
  
  &:hover:not(.active-tab) {
    background-color: rgba(0, 0, 0, 0.04);
  }
}

@media (max-width: 768px) {
  .dashboards-grid {
    grid-template-columns: 1fr;
  }

  .header {
    flex-direction: column;
    gap: 16px;
    align-items: stretch;
  }
}

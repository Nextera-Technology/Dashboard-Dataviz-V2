// .dashboard-list {
//   padding: 0;
// }

// .header {
//   display: flex;
//   justify-content: space-between;
//   align-items: center;
//   margin-bottom: 24px;
// }

// .header h1 {
//   margin: 0;
//   color: #333;
// }

// .dashboards-grid {
//   display: grid;
//   grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
//   gap: 24px;
// }

// .dashboard-card {
//   cursor: pointer;
//   transition: all 0.3s ease;
//   border: 1px solid #e0e0e0;
// }

// .dashboard-card:hover {
//   transform: translateY(-4px);
//   box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
// }

// .source mat-icon {
//   font-size: 18px;
//   width: 18px;
//   height: 18px;
// }

// mat-card-actions {
//   padding: 16px;
//   display: flex;
//   justify-content: space-between;
// }

// @media (max-width: 768px) {
//   .dashboards-grid {
//     grid-template-columns: 1fr;
//   }

//   .header {
//     flex-direction: column;
//     gap: 16px;
//     align-items: stretch;
//   }
// }

/* Modern Dashboard Styles */
.dashboard-list {
  padding: 0;
  position: relative;
}

@keyframes backgroundShift {
  0%, 100% { background: linear-gradient(45deg, #f8fafc, #e7f3ff, #e0e7ff); }
  50% { background: linear-gradient(45deg, #e0e7ff, #f8fafc, #e7f3ff); }
}

/* Header Styling */
.header-container {
  position: relative;
  z-index: 10;
}

/* Navigation Bar (Card/Table Toggle) */
.navigation-bar {
  position: relative;
  z-index: 9;
}

.nav-btn {
  color: #64748b;
  background: transparent;
  border: none;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  
  &:hover {
    background: rgba(59, 130, 246, 0.1);
    color: #3b82f6;
  }
  
  &.active {
    background: linear-gradient(135deg, #3b82f6, #6366f1);
    color: white;
    box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3);
  }
  
  mat-icon {
    font-size: 1.125rem;
    width: 1.125rem;
    height: 1.125rem;
  }
}

/* Search Bar Styling */
.search-bar {
  position: relative;
  z-index: 9;
  
  input {
    outline: none;
    
    &::placeholder {
      color: #94a3b8;
    }
    
    &:focus {
      outline: none;
    }
  }
}

@keyframes headerGlow {
  0%, 100% { transform: scale(1) rotate(0deg); opacity: 0.3; }
  50% { transform: scale(1.1) rotate(180deg); opacity: 0.6; }
}

/* Create Button Animation */
.create-btn {
  position: relative;
  overflow: hidden;
}

/* Dashboard Grid */
.dashboards-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
  gap: 1.25rem;
  position: relative;
  z-index: 5;
}

/* Dashboard Card Animations */
.dashboard-card {
  position: relative;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  will-change: transform;
  overflow: hidden;
  background: linear-gradient(180deg, rgba(255,255,255,0.75), rgba(255,255,255,0.55));
  backdrop-filter: blur(10px);
  border-color: rgba(255,255,255,0.60);
  box-shadow: 0 8px 24px rgba(15,23,42,0.10);
  min-height: 280px;
}

.dashboard-card:hover::before {
  opacity: 1;
}

.dashboard-card:hover {
  transform: translateY(-4px);
  box-shadow: 0 2px 8px rgba(15, 23, 42, 0.08), 0 6px 14px rgba(99, 102, 241, 0.14);
}

.dashboard-card::before {
  content: '';
  position: absolute;
  inset: 0;
  border-radius: inherit;
  padding: 1px;
  background: linear-gradient(135deg, rgba(99,102,241,0.5), rgba(14,165,233,0.5));
  -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  -webkit-mask-composite: xor;
  mask-composite: exclude;
  opacity: 0.6;
  pointer-events: none;
}

.dashboard-card:hover::before { opacity: 0.95; }

.dashboard-card::after {
  content: '';
  position: absolute;
  right: -48px;
  bottom: -48px;
  width: 160px;
  height: 160px;
  background: radial-gradient(closest-side, rgba(99,102,241,0.12), transparent 70%);
  pointer-events: none;
}

:host-context(.theme-dark) .dashboard-card::before { background: linear-gradient(135deg, rgba(99,102,241,0.7), rgba(14,165,233,0.7)); opacity: 0.75; }
:host-context(.theme-dark) .dashboard-card::after { background: radial-gradient(closest-side, rgba(99,102,241,0.18), transparent 70%); }

/* Card Content Animation */
.dashboard-card h2 {
  transition: all 0.3s ease;
  position: relative;
}

.title-block { min-width: 0; }
.title-text { display: block; max-width: 100%; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.header-line { min-width: 0; }
.source-line { flex-wrap: wrap; }
.cert-block { min-width: 0; }
.source-title { display: block; max-width: 100%; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }

/* Source Items */
.source-item {
  position: relative;
  overflow: hidden;
  transition: all 0.3s ease;
}

/* Reserve space for the "show more" button so action buttons don't jump
   even when the button is not rendered. The parent is positioned
   relatively so we can absolutely place the expand button inside it. */
.sources-section {
  position: relative;
  /* reserve approx the height of the smaller expand button + spacing */
  padding-bottom: 3.25rem;
  min-height: 5.5rem;
}

/* If the expand button exists, keep it visually anchored to the bottom
   of the sources area so layout is stable whether it's present or not. */
.sources-section .expand-btn {
  position: absolute;
  left: 0.75rem;
  right: 0.75rem;
  bottom: 0.5rem;
  width: auto;
  display: flex;
  justify-content: center;
  align-items: center;
}

/* Tags Animation */
.classes-tags span {
  transition: all 0.3s ease;
  position: relative;
  overflow: hidden;
  background: linear-gradient(180deg, #e0e7ff, #dbeafe);
  border: 1px solid #c7d2fe;
  color: #1e3a8a;
}

.classes-tags span::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
  transition: left 0.4s ease;
}

.classes-tags span:hover::before {
  left: 100%;
}

/* Light mode hover polish */
.classes-tags span:hover { filter: brightness(1.05); }

/* Expand Button */
.expand-btn {
  position: relative;
  overflow: hidden;
}

.expand-btn:hover::before {
  width: 200px;
  height: 200px;
}

/* Action Buttons */
.action-buttons button {
  position: relative;
  overflow: hidden;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Shine effect for buttons */
.action-grid [data-action]::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0;
  width: 60%;
  border-radius: inherit;
  background: linear-gradient(90deg, rgba(255,255,255,0.0), rgba(255,255,255,0.28), rgba(255,255,255,0.0));
  transform: translateX(-120%);
  transition: transform 0.45s ease;
  pointer-events: none;
}
.action-grid [data-action]:hover::after { transform: translateX(120%); }

/* Ensure icons are always visible and don't shrink when translations
   change length (e.g. in French). Fix icon sizing and keep text legible. */
.action-buttons button mat-icon,
.sources-section mat-icon,
.dashboard-card mat-icon {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  font-size: 0.9rem;
  width: 1rem;
  height: 1rem;
  flex: 0 0 auto;
  margin-right: 0;
}

.action-buttons button > div > span,
.action-buttons button span {
  font-size: 0.85rem; /* slightly smaller per request (includes Manage) */
  line-height: 1rem;
}

/* Ensure buttons keep a minimum width so icons and text don't wrap */
.action-buttons .flex > button {
  min-width: 3.25rem;
  padding: 0.4rem 0.5rem;
  font-size: 0.8rem;
  border-radius: 0.5rem;
}

/* Force icons to inherit color in RTL/L10n contexts where mat-icon
   may get reset by other libraries; keep strong contrast. */
.action-buttons button mat-icon {
  color: currentColor !important;
}

/* Reduce spacing introduced by Tailwind's space-x-2 inside buttons */
.action-buttons button > div.space-x-2 > * + * {
  margin-left: 0.25rem !important; /* shrink gap between icon and label */
}

/* For French (or other languages) long labels, prevent icon/text from
   collapsing: make text truncate with ellipsis and keep icon visible. */
.action-buttons button span {
  display: inline-block;
  max-width: 5rem;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* For very small screens, stack buttons but keep them compact */
@media (max-width: 420px) {
  .action-buttons .flex {
    flex-direction: column;
    gap: 0.4rem;
  }
  .action-buttons .flex > button {
    width: 100%;
    min-width: 0;
  }
}

/* Loading Animation */
@keyframes pulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.5; }
}

.animate-pulse {
  animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

/* Status Indicator */
.w-3.h-3.bg-green-400 {
  box-shadow: 0 0 4px rgba(34, 197, 94, 0.6);
}

/* Empty State */
.empty-state {
  position: relative;
  z-index: 10;
}

.empty-state::before {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 300px;
  height: 300px;
  background: radial-gradient(circle, rgba(59, 130, 246, 0.1) 0%, transparent 70%);
  border-radius: 50%;
  transform: translate(-50%, -50%);
  animation: emptyStateGlow 4s ease-in-out infinite;
}

@keyframes emptyStateGlow {
  0%, 100% { transform: translate(-50%, -50%) scale(1); opacity: 0.5; }
  50% { transform: translate(-50%, -50%) scale(1.2); opacity: 0.8; }
}

/* Responsive Design */
@media (max-width: 768px) {
  .dashboards-grid {
    grid-template-columns: 1fr;
    gap: 1.5rem;
  }
  
  .dashboard-card {
    margin: 0 1rem;
  }
  
  .header-container .backdrop-blur-xl {
    padding: 1.5rem;
  }
  
  .create-btn {
    width: 100%;
    justify-content: center;
  }
}

@media (max-width: 640px) {
  .dashboard-list {
    padding: 1rem;
  }
  
  .dashboards-grid {
    gap: 1rem;
  }
  
.dashboard-card {
  margin: 0;
  border-radius: 1rem;
  background: linear-gradient(180deg, rgba(255,255,255,0.75), rgba(255,255,255,0.55));
  backdrop-filter: blur(10px);
  border-color: rgba(255,255,255,0.6);
  box-shadow: 0 8px 24px rgba(15,23,42,0.10);
}
  
  .action-buttons {
    padding: 1rem;
  }
  
  .action-buttons .flex {
    flex-direction: column;
    gap: 0.5rem;
  }
  
  .action-buttons button {
    width: 100%;
  }
}

/* Smooth scrolling */
html {
  scroll-behavior: smooth;
}

/* Focus states for accessibility */
button:focus,
.dashboard-card:focus {
  outline: 2px solid #3b82f6;
  outline-offset: 2px;
}

/* Dark theme glassmorphism overrides */
:host-context(.theme-dark) .navigation-bar .backdrop-blur-xl,
:host-context(.theme-dark) .header-container .backdrop-blur-xl,
:host-context(.theme-dark) .search-bar .backdrop-blur-xl {
  background: linear-gradient(135deg, rgba(15,23,42,0.55), rgba(2,6,23,0.45)) !important;
  border-color: rgba(255,255,255,0.12) !important;
  box-shadow: 0 10px 30px rgba(2,6,23,0.35) !important;
}

:host-context(.theme-dark) .search-bar input {
  color: var(--text-primary) !important;
  background: rgba(255,255,255,0.08) !important;
  border-color: rgba(255,255,255,0.16) !important;
}
:host-context(.theme-dark) .search-bar input::placeholder { color: rgba(255,255,255,0.70) !important; }
:host-context(.theme-dark) .search-bar input:focus { border-color: var(--primary-light) !important; box-shadow: 0 0 0 2px rgba(59,130,246,0.25) !important; }
:host-context(.theme-dark) .search-bar mat-icon { color: rgba(255,255,255,0.80) !important; }

:host-context(.theme-dark) .dashboard-card {
  background: linear-gradient(180deg, rgba(31,41,55,0.55), rgba(15,23,42,0.40)) !important;
  backdrop-filter: blur(10px) !important;
  border-color: rgba(99,102,241,0.35) !important;
  box-shadow: 0 8px 24px rgba(99,102,241,0.18) !important;
}

:host-context(.theme-dark) .dashboard-card h2 { color: var(--text-primary) !important; }
:host-context(.theme-dark) .dashboard-card p { color: var(--text-secondary) !important; }
:host-context(.theme-dark) .sources-section h3 { color: var(--text-primary) !important; }

/* Strengthen title/subtitle contrast in dark mode */
:host-context(.theme-dark) .dashboard-card h2 {
  color: #e6edf3 !important;
  text-shadow: 0 1px 1px rgba(2,6,23,0.6);
}
:host-context(.theme-dark) .dashboard-card p {
  color: #cbd5e1 !important;
}

/* Dark mode: certification title and folder icon */
:host-context(.theme-dark) .source-title { color: #e6edf3 !important; text-shadow: 0 1px 1px rgba(2,6,23,0.5); }
:host-context(.theme-dark) .sources-section mat-icon { color: rgba(255,255,255,0.85) !important; }

/* Dark mode: high-contrast action buttons */
:host-context(.theme-dark) .action-grid [data-action="view"] {
  background: #1e3a8a !important;
  border-color: #1d4ed8 !important;
  color: #e6edf3 !important;
  box-shadow: none !important;
}
:host-context(.theme-dark) .action-grid [data-action="view"]:hover { filter: brightness(1.03); }

:host-context(.theme-dark) .action-grid [data-action="edit"] {
  background: #312e81 !important;
  border-color: #4f46e5 !important;
  color: #e6edf3 !important;
  box-shadow: none !important;
}
:host-context(.theme-dark) .action-grid [data-action="edit"]:hover { filter: brightness(1.03); }

:host-context(.theme-dark) .action-grid [data-action="delete"] {
  background: #991b1b !important;
  border-color: #b91c1c !important;
  color: #fff !important;
  box-shadow: none !important;
}
:host-context(.theme-dark) .action-grid [data-action="delete"]:hover { filter: brightness(1.03); }

:host-context(.theme-dark) .action-grid [data-action="manage"] {
  background: #155e75 !important;
  border-color: #0ea5b7 !important;
  color: #e6edf3 !important;
  box-shadow: none !important;
}
:host-context(.theme-dark) .action-grid [data-action="manage"]:hover { filter: brightness(1.03); }
/* Dark mode export button */
:host-context(.theme-dark) .action-grid [data-action="export"] {
  background: #155e75 !important;
  border-color: #0ea5b7 !important;
  color: #e6edf3 !important;
  box-shadow: none !important;
}
:host-context(.theme-dark) .action-grid [data-action="export"]:hover { filter: brightness(1.03); }

/* Dark mode: source pills legibility */
:host-context(.theme-dark) .classes-tags span {
  background: rgba(255,255,255,0.08) !important;
  border-color: rgba(255,255,255,0.16) !important;
  color: var(--text-primary) !important;
}

:host-context(.theme-dark) .source-item {
  background: linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.04)) !important;
  border-color: rgba(255,255,255,0.12) !important;
}
:host-context(.theme-dark) .source-item .font-bold { color: var(--text-primary) !important; }
:host-context(.theme-dark) .classes-tags span { color: #e6edf3 !important; background: rgba(59,130,246,0.18) !important; border-color: rgba(59,130,246,0.35) !important; }

:host-context(.theme-dark) .expand-btn {
  background: linear-gradient(90deg, rgba(255,255,255,0.06), rgba(255,255,255,0.04)) !important;
  border-color: rgba(255,255,255,0.12) !important;
  color: var(--text-primary) !important;
}
:host-context(.theme-dark) .expand-btn mat-icon { color: rgba(255,255,255,0.85) !important; }

:host-context(.theme-dark) .no-sources {
  background: linear-gradient(90deg, rgba(255,255,255,0.06), rgba(255,255,255,0.04)) !important;
  border-color: rgba(255,255,255,0.18) !important;
}
:host-context(.theme-dark) .no-sources p { color: var(--text-secondary) !important; }

/* Ensure glass containers keep readable text */
:host-context(.theme-dark) .backdrop-blur-xl span,
:host-context(.theme-dark) .backdrop-blur-xl p,
:host-context(.theme-dark) .backdrop-blur-xl h1,
:host-context(.theme-dark) .backdrop-blur-xl h2,
:host-context(.theme-dark) .backdrop-blur-xl h3 { color: var(--text-primary) !important; }

/* High contrast mode support */
@media (prefers-contrast: high) {
  .dashboard-card {
    border: 2px solid #000;
  }
  
  .backdrop-blur-xl {
    background: rgba(255, 255, 255, 0.95);
  }
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
  
  .dashboard-card:hover {
    transform: none;
  }
}
:host-context(.theme-dark) .classes-tags span:hover { background: rgba(59,130,246,0.26) !important; }

/* Neutral badge for "no classes" */
.classes-tags .no-classes { background: linear-gradient(180deg, #f1f5f9, #e2e8f0) !important; border-color: #cbd5e1 !important; color: #334155 !important; }
:host-context(.theme-dark) .classes-tags .no-classes { background: rgba(148,163,184,0.18) !important; border-color: rgba(148,163,184,0.35) !important; color: #e6edf3 !important; }
/* Light theme vibrant buttons inside cards */
.action-grid [data-action="view"] { background: #2563eb !important; border-color: #1d4ed8 !important; color: #fff !important; box-shadow: none !important; }
.action-grid [data-action="view"]:hover { filter: brightness(1.06); }

.action-grid [data-action="edit"] { background: #6366f1 !important; border-color: #4f46e5 !important; color: #fff !important; box-shadow: none !important; }
.action-grid [data-action="edit"]:hover { filter: brightness(1.06); }

.action-grid [data-action="delete"] { background: #dc2626 !important; border-color: #b91c1c !important; color: #fff !important; box-shadow: none !important; }
.action-grid [data-action="delete"]:hover { filter: brightness(1.06); }

.action-grid [data-action="manage"] { background: #06b6d4 !important; border-color: #0891b2 !important; color: #fff !important; box-shadow: none !important; }
.action-grid [data-action="manage"]:hover { filter: brightness(1.06); }
/* Export button styling (library icon) */
.action-grid [data-action="export"] { background: #06b6d4 !important; border-color: #0891b2 !important; color: #fff !important; box-shadow: none !important; }
.action-grid [data-action="export"]:hover { filter: brightness(1.06); }

.navigation-bar .backdrop-blur-xl,
.header-container .backdrop-blur-xl,
.search-bar .backdrop-blur-xl {
  background: linear-gradient(135deg, rgba(59,130,246,0.15), rgba(99,102,241,0.12), rgba(14,165,233,0.12)) !important;
  border-color: rgba(99,102,241,0.25) !important;
  box-shadow: 0 10px 30px rgba(99,102,241,0.12) !important;
}
/* Ensure text color set per palette; avoid generic border override in dark mode */

<div class="section-form-dialog flex flex-col bg-white shadow-2xl border border-gray-300 overflow-hidden">
  <div class="header flex justify-between items-center px-6 py-4 border-b border-gray-200 bg-gray-50">
    <h2 class="text-xl font-semibold text-gray-800">
      {{ isEditMode ? ('admin.dashboardFormDialog.edit_title' | translate) : ('admin.dashboardFormDialog.create_title' | translate) }}
    </h2>
    <button mat-icon-button (click)="onCancel()" aria-label="Close dialog">
      <mat-icon class="text-gray-600 hover:text-gray-800">close</mat-icon>
    </button>
  </div>

  <form [formGroup]="sectionForm" (ngSubmit)="onSubmit()" class="flex-grow">
    <mat-dialog-content class="py-6 px-6">
      <div class="form-fields flex flex-col gap-3">
        <div class="w-full">
          <label>{{ 'admin.sectionFormDialog.section_title_label' | translate }}</label>
          <input formControlName="title" placeholder="e.g., Key Metrics, Performance Overview" class="w-full px-4 py-3 border border-gray-300 outline-none rounded-lg shadow-sm placeholder-gray-400 
                     focus:ring-4 focus:ring-blue-500/15 focus:border-blue-500 transition-all duration-200
                     hover:border-gray-400 text-sm" />
          <div class="text-red-400"
            *ngIf="sectionForm.get('title')?.hasError('required') && sectionForm.get('title')?.touched">
            {{ 'admin.sectionFormDialog.title_required' | translate }}
          </div>
        </div>

        <div class="w-full">
          <label>{{ 'admin.sectionFormDialog.section_name_label' | translate }}</label>
          <input formControlName="name" placeholder="e.g., key-metrics (auto-generated or custom)" class="w-full px-4 py-3 border border-gray-300 outline-none rounded-lg shadow-sm placeholder-gray-400 
                     focus:ring-4 focus:ring-blue-500/15 focus:border-blue-500 transition-all duration-200
                     hover:border-gray-400 text-sm" />
          <div class="text-red-400"
            *ngIf="sectionForm.get('name')?.hasError('required') && sectionForm.get('name')?.touched">
            {{ 'admin.sectionFormDialog.name_required' | translate }}
          </div>
        </div>

        <div class="w-full flex flex-col gap-1 p-2">
          <label for="background" class="text-sm font-medium text-gray-700">Background Color</label>
          <input id="background" type="color" formControlName="background"
            class="h-12 w-20 rounded border border-gray-300 cursor-pointer" />
          <div *ngIf="sectionForm.get('background')?.hasError('required')" class="text-red-600 text-xs mt-1">
            Background color is required
          </div>
        </div>

      </div>
    </mat-dialog-content>

    <mat-dialog-actions align="end" class="px-6 py-4 flex gap-2 border-t border-gray-200 bg-gray-50">
      <button type="button" (click)="onCancel()"
        class="px-6 py-2.5 text-gray-700 bg-white outline-none  border border-gray-300 rounded-lg font-medium hover:bg-gray-50 hover:border-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-500/15  transition-all duration-200 shadow-sm hover:shadow-md">
        Cancel
      </button>
      <button color="primary" type="submit" [disabled]="sectionForm.invalid"
        class="px-6 py-2.5 bg-blue-600 text-white  outline-none rounded-lg font-medium shadow-sm hover:bg-blue-700 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-blue-500/15  disabled:bg-gray-300 disabled:cursor-not-allowed disabled:shadow-none transition-all duration-200">
        {{ isEditMode ? 'Save Changes' : 'Add Section' }}
      </button>
    </mat-dialog-actions>
  </form>
</div>